<!-- index.html -->
<!DOCTYPE html>
<html lang="ru" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="–§—Ä—É–∫—Ç–∏–∫ –ß–∞—Ç - –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –¥–µ—Ç–µ–π –≤ —É—á–µ–±–µ">
    <meta name="keywords" content="—á–∞—Ç, –ø–æ–º–æ—â–Ω–∏–∫, —É—á–µ–±–∞, –¥–µ—Ç–∏, —Ñ—Ä—É–∫—Ç–∏–∫">
    <title>üçì –§—Ä—É–∫—Ç–∏–∫ –ß–∞—Ç - –ü–æ–º–æ—â–Ω–∏–∫ –≤ —É—á—ë–±–µ</title>
    
    <!-- PWA Meta Tags -->
    <meta name="application-name" content="–§—Ä—É–∫—Ç–∏–∫ –ß–∞—Ç">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="–§—Ä—É–∫—Ç–∏–∫ –ß–∞—Ç">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#ff6b6b">
    <meta name="msapplication-TileColor" content="#ff6b6b">
    
    <!-- Force light theme -->
    <meta name="color-scheme" content="light">
    <meta name="supported-color-schemes" content="light">
    
    <!-- Styles and Icons -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="icons/icon-32x32.png">
    <link rel="apple-touch-icon" href="icons/icon-180x180.png">
</head>
<body class="min-h-screen flex items-center justify-center p-0 no-select">
    <!-- –§—Ä—É–∫—Ç–æ–≤—ã–π –¥–æ–∂–¥—å -->
    <div class="fruit-rain" id="fruitRain" aria-hidden="true"></div>
    
    <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å —á–∞—Ç–∞–º–∏ -->
    <div class="chats-sidebar" id="chatsSidebar" role="dialog" aria-label="–ú–æ–∏ —á–∞—Ç—ã" aria-hidden="true">
        <div class="sidebar-header">
            <h2 class="text-xl font-bold">–ú–æ–∏ —á–∞—Ç—ã</h2>
            <button id="closeSidebar" class="text-white text-xl close-sidebar-btn" aria-label="–ó–∞–∫—Ä—ã—Ç—å –±–æ–∫–æ–≤—É—é –ø–∞–Ω–µ–ª—å">
                <i class="fas fa-times" aria-hidden="true"></i>
            </button>
        </div>
        <div class="sidebar-content">
            <div class="sidebar-info">
                <p class="text-sm mb-4">–ó–¥–µ—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ –≤–∞—à–∏ —á–∞—Ç—ã —Å –§—Ä—É–∫—Ç–∏–∫–æ–º</p>
                <div class="flex items-center justify-between text-xs">
                    <span>–í—Å–µ–≥–æ —á–∞—Ç–æ–≤: <span id="chatsCount">0</span></span>
                    <button id="clearAllChats" class="text-red-300 hover:text-red-100 transition-colors">
                        –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ
                    </button>
                </div>
            </div>
            <div id="chatsList" role="list">
                <!-- –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
            </div>
        </div>
    </div>
    
    <!-- –û–≤–µ—Ä–ª–µ–π –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ -->
    <div class="sidebar-overlay" id="sidebarOverlay" aria-hidden="true"></div>
    
    <!-- –ß–∞—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="chat-container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —á–∞—Ç–∞ -->
        <header class="header">
            <button id="menuButton" class="menu-btn" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é —á–∞—Ç–æ–≤">
                <i class="fas fa-bars" aria-hidden="true"></i>
            </button>
            <div class="text-center flex-1 px-4">
                <h1 class="text-2xl md:text-3xl font-bold drop-shadow-lg">üçì –§—Ä—É–∫—Ç–∏–∫ –ß–∞—Ç üçç</h1>
                <div class="text-white/90 text-sm mt-1 hidden md:block">–ü–æ–º–æ–≥–∞—é –≤ —É—á—ë–±–µ –∏ –æ—Ç–≤–µ—á–∞—é –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã!</div>
                <div class="text-white/90 text-xs mt-1 md:hidden">–ü–æ–º–æ—â–Ω–∏–∫ –≤ —É—á—ë–±–µ</div>
            </div>
            <button id="newChatButton" class="new-chat-btn" aria-label="–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —á–∞—Ç">
                <i class="fas fa-plus" aria-hidden="true"></i> 
                <span class="hidden md:inline">–ù–æ–≤—ã–π —á–∞—Ç</span>
            </button>
        </header>
        
        <!-- –û–±–ª–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π -->
        <main class="messages-container" id="chatMessages" role="log" aria-live="polite">
            <!-- –°–æ–æ–±—â–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∑–¥–µ—Å—å -->
        </main>
        
        <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞–±–æ—Ä–∞ -->
        <div id="typingIndicator" class="typing-indicator hidden" aria-hidden="true">
            <div class="flex items-start">
                <div class="bot-avatar">
                    <div class="avatar-emoji-container">
                        <span class="avatar-emoji">üçç</span>
                    </div>
                </div>
                <div class="chat-bubble bot-bubble">
                    <div class="typing-text">–§—Ä—É–∫—Ç–∏–∫ –ø–µ—á–∞—Ç–∞–µ—Ç</div>
                    <div class="typing-dots">
                        <span class="typing-dot"></span>
                        <span class="typing-dot"></span>
                        <span class="typing-dot"></span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ -->
        <footer class="input-container">
            <div class="input-wrapper">
                <div class="input-group">
                    <div class="input-field-container">
                        <textarea 
                            id="messageInput" 
                            placeholder="–ù–∞–ø–∏—à–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –§—Ä—É–∫—Ç–∏–∫—É... üçì" 
                            class="message-input"
                            aria-label="–°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –§—Ä—É–∫—Ç–∏–∫–∞"
                            maxlength="1000"
                            rows="1"
                        ></textarea>
                        <div class="input-character-count" id="charCount">
                            0/1000
                        </div>
                    </div>
                    <button 
                        id="sendButton"
                        class="send-btn"
                        aria-label="–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ"
                        disabled
                    >
                        <i class="fas fa-paper-plane" aria-hidden="true"></i>
                    </button>
                </div>
                <div class="input-helpers">
                    <button class="helper-btn" id="quickQuestion1" data-question="–ü–æ–º–æ–≥–∏ —Å –¥–æ–º–∞—à–Ω–∏–º –∑–∞–¥–∞–Ω–∏–µ–º">
                        <span>üìö</span> –î–æ–º–∞—à–∫–∞
                    </button>
                    <button class="helper-btn" id="quickQuestion2" data-question="–û–±—ä—è—Å–Ω–∏ —Ç–µ–º—É —É—Ä–æ–∫–∞">
                        <span>üéØ</span> –û–±—ä—è—Å–Ω–∏
                    </button>
                    <button class="helper-btn" id="quickQuestion3" data-question="–ü—Ä–∏–¥—É–º–∞–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç">
                        <span>üí°</span> –§–∞–∫—Ç
                    </button>
                </div>
            </div>
        </footer>
    </div>

    <!-- –°—Ç–∞—Ç—É—Å —Å–æ–æ–±—â–µ–Ω–∏–µ -->
    <div id="statusMessage" class="status-message" role="status" aria-live="polite"></div>

    <!-- Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(registration => console.log('SW registered'))
                .catch(error => console.log('SW registration failed'));
        }
    </script>

    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>